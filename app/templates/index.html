{% extends "base.html" %}

{% block content %}
<div class="weather-form">
    <form method="post" action="/weather" id="weather-form">
        <div class="form-group">
            <label for="zip_code">Enter your ZIP code:</label>
            <input 
                type="text" 
                id="zip_code" 
                name="zip_code" 
                value="{{ default_zip_code }}" 
                placeholder="12345"
                pattern="[0-9]{5}"
                required
            >
        </div>
        <button type="submit" class="submit-btn" id="submit-btn">
            <span class="btn-text">Get Weather & Clothing Advice</span>
            <div class="spinner" id="loading-spinner" style="display: none;">
                <div class="spinner-ring"></div>
            </div>
        </button>
    </form>
</div>

<div class="info-section">
    <h2>How it works</h2>
    <div class="features">
        <div class="feature">
            <span class="icon">üå°Ô∏è</span>
            <h3>Weather Analysis</h3>
            <p>Real-time weather data and 24-hour forecasts</p>
        </div>
        <div class="feature">
            <span class="icon">üìä</span>
            <h3>Temperature Visualization</h3>
            <p>Beautiful graphs showing temperature trends</p>
        </div>
        <div class="feature">
            <span class="icon">üëï</span>
            <h3>Smart Recommendations</h3>
            <p>AI-powered clothing suggestions for any weather</p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('weather-form');
    const submitBtn = document.getElementById('submit-btn');
    const btnText = document.querySelector('.btn-text');
    const spinner = document.getElementById('loading-spinner');
    
    form.addEventListener('submit', function(e) {
        // Show spinner and disable button
        btnText.style.display = 'none';
        spinner.style.display = 'inline-block';
        submitBtn.disabled = true;
        submitBtn.style.opacity = '0.7';
        submitBtn.style.cursor = 'not-allowed';
    });
});
</script>
{% endblock %}
